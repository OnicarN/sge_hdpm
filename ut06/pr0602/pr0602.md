# Desarrollo de componentes: MVC y herencia


Dejamos el archivo models de la siguinete manera 


``` python
from odoo import models, fields

class Author(models.Model):
    _name = 'library.author'   
    _description = 'Autor'

    name = fields.Char('Nombre', required=True)
    country_id = fields.Many2one('res.country', 'País de Origen')
    book_ids = fields.One2many('library.book', 'author_id', 'Libros Publicados')


class Book(models.Model):
    _name = 'library.book'   
    _description = 'Libro'

    name = fields.Char('Título', required=True)
    author_id = fields.Many2one('library.author', 'Autor', required=True)
    genre = fields.Selection([
        ('novel', 'Novela'),
        ('drama', 'Drama'),
        ('scifi', 'Ciencia Ficción'),
        ('mystery', 'Misterio'),
        ('horror', 'Terror'),
        ('historical', 'Histórico')
    ], 'Género', required=True)
    partner_ids = fields.Many2many('library.partner', 'library_book_partner_rel', string='Prestado a Socios')


class Partner(models.Model):
    _name = 'library.partner'  
    _description = 'Socio'

    name = fields.Char('Nombre', required=True)
    phone = fields.Char('Teléfono')
    country_id = fields.Many2one('res.country', 'País')
    book_ids = fields.Many2many('library.book', 'library_book_partner_rel', string='Libros Prestados')
```


dejamos el archivo "views.xml" de la siguinte manera 

``` xml

<odoo>

    <record model="ir.ui.view" id="library_author_list_view">
        <field name="name">library.author.list</field>
        <field name="model">library.author</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="country_id"/>
                <field name="book_ids"/>
            </tree>
        </field>
    </record>


    <record model="ir.ui.view" id="library_book_list_view">
        <field name="name">library.book.list</field>
        <field name="model">library.book</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="author_id"/>
                <field name="genre"/>
                <field name="partner_ids"/>
            </tree>
        </field>
    </record>


    <record model="ir.ui.view" id="library_partner_list_view">
        <field name="name">library.partner.list</field>
        <field name="model">library.partner</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="phone"/>
                <field name="book_ids"/>
            </tree>
        </field>
    </record>


    <record model="ir.actions.act_window" id="library_action_author">
        <field name="name">Authors</field>
        <field name="res_model">library.author</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="library_action_book">
        <field name="name">Books</field>
        <field name="res_model">library.book</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="library_action_partner">
        <field name="name">Partners</field>
        <field name="res_model">library.partner</field>
        <field name="view_mode">tree,form</field>
    </record>


    <menuitem name="Library" id="library_menu_root"/>

    <menuitem name="Catalog" id="library_menu_catalog" parent="library_menu_root"/>
    
    <menuitem name="Authors" id="library_menu_author_list" parent="library_menu_catalog" action="library_action_author"/>
    <menuitem name="Books" id="library_menu_book_list" parent="library_menu_catalog" action="library_action_book"/>
    <menuitem name="Partners" id="library_menu_partner_list" parent="library_menu_catalog" action="library_action_partner"/>
</odoo>
```

Usando el módulo 

![alt text](<Captura de pantalla 2025-12-20 205948.png>)



![alt text](<Captura de pantalla 2025-12-20 210018.png>)



![alt text](<Captura de pantalla 2025-12-20 210027.png>)